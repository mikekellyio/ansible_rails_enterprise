---
# Control Machine Variables
LOCAL_ANSIBLE_ROOT: "~/Sites/work/ansible_provisioning/provisioning"
LOCAL_SRC_PATH: "{{LOCAL_ANSIBLE_ROOT}}/src_files"

# Remote Node Variables
sysadmin:     "sysadmin" # User to install libraries & packages from source
deployer:     "deployer" # User to deploy Rails applications from
internal_tld: "dev"      # "com", "net", "org", "pow", etc.
hostname:     "support.local" # domain.{{internal_tld}}, example.com, localhost, etc.
STOW_PATH:    "{{HOME.stdout}}/opt/stow"
SRC_PATH:     "{{HOME.stdout}}/SUPPORT/src"
src_bash:     "source {{HOME.stdout}}/.bashrc;"

compile_flags:
  - flag:  "CFLAGS"
    value: "-fPIC -I{{STOW_PATH}}/../include"
  - flag:  "CPPFLAGS"
    value: "-I{{STOW_PATH}}/../include"
  - flag:  "C_INCLUDE_PATH"
    value: "{{STOW_PATH}}/../include"
  - flag:  "CPLUS_INCLUDE_PATH"
    value: "{{STOW_PATH}}/../include"
  - flag:  "LDFLAGS"
    value: "-L{{STOW_PATH}}/../lib -R{{STOW_PATH}}/../lib"
  - flag:  "LD_LIBRARY_PATH"
    value: "{{STOW_PATH}}/../lib"
  - flag:  "LIBRARY_PATH"
    value: "{{STOW_PATH}}/../lib"
  - flag:  "LD_RUN_PATH"
    value: "{{STOW_PATH}}/../lib"
  - flag:  "TMPDIR"
    value: "/tmp"
#  - flag:  "CC"
#    value: "gcc"
#  - flag:  "CXX"
#    value: "g++"

# Ruby Config
rvm_fw:
  enabled: True # False
  url: "http://rvm-fw.slkdemos.com" # ""

rvm:
  packages:
    - libyaml creates={{HOME.stdout}}/.rvm/usr/lib/libyaml.a
    - zlib    --verify-downloads 1 creates={{HOME.stdout}}/.rvm/usr/lib/libz.so
    - readline creates={{HOME.stdout}}/.rvm/usr/lib/libreadline.so
    - iconv creates={{HOME.stdout}}/.rvm/usr/lib/libiconv.so
    - libxml2 --verify-downloads 1 creates={{HOME.stdout}}/.rvm/usr/lib/libxml2.so
    - libxslt --verify-downloads 1 creates={{HOME.stdout}}/.rvm/usr/lib/libxslt.so
    - ncurses --verify-downloads 1 creates={{HOME.stdout}}/.rvm/usr/lib/libncurses.so
    - openssl creates={{HOME.stdout}}/.rvm/usr/bin/openssl

ruby:
  version: "ruby-2.0.0-p353"
  gem_sources:
    add:
      - https://rubygems.org/
#      - http://gems.support.ruby.{{internal_tld}}/
#      - http://ruby.{{internal_tld}}/
    delete:
      - http://rubygems.org/
#      - https://rubygems.org/

# Rack Application Deployment Variables
apps:
  root: "{{HOME.stdout}}/u"
  example:
    enabled: True # False
    name:   "example"
    domain: "localhost"
    #domain:   "{{http.domain}}.{{internal_tld}}"
